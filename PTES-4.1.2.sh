#!/bin/bash



exists()
{
  command -v "$1" >/dev/null 2>&1
}

print_newline()
{
    for i in {0..80}
    do
        echo -ne "\e[00;90m#"
    done
    echo "" 
}

output=$1
print_newline > $output  
###############################################################################################
if [ $# -eq 0 ]
  then
    echo "No arguments supplied"
    exit 1
fi
###############################################################################################
if exists systemctl; then
    systemctl1=`systemctl -at service`
    echo -e "\e[00;31m[-] All services: \e[00m\n$systemctl1"  >> $output 
    print_newline >> $output  
else
  echo 'Your OS does not have systemctl'
fi
###############################################################################################
if exists systemctl; then
    systemctl2=`systemctl -t service --state=active`
    echo -e "\e[00;31m[-] All active services: \e[00m\n$systemctl2"  >> $output 
    print_newline >> $output  
else
  echo 'Your OS does not have systemctl'
fi
###############################################################################################
if exists systemctl; then
    systemctl3=`systemctl list-units --type service`
    echo -e "\e[00;31m[-] All loaded services: \e[00m\n$systemctl3"  >> $output 
    print_newline >> $output  
else
  echo 'Your OS does not have systemctl'
fi
###############################################################################################
if exists systemctl; then
    service1=`service --status-all`
    echo -e "\e[00;31m[-] All running (+) / stopped (-) services: \e[00m\n$service1"  >> $output 
    print_newline >> $output  
else
  echo 'Your OS does not have service'
fi
###############################################################################################
if exists apt; then
    apt1=`sudo apt list --installed | less`
    echo -e "\e[00;31m[-] All installed packages: \e[00m\n$apt1"  >> $output 
    print_newline >> $output  
else
  echo 'Your OS does not have apt'
fi
###############################################################################################
if exists dpkg-query; then
    dpkgquery1=`sudo dpkg-query -l | less`
    echo -e "\e[00;31m[-] All installed packages: \e[00m\n$dpkgquery1"  >> $output 
    print_newline >> $output  
else
  echo 'Your OS does not have dpkg-query'
fi
###############################################################################################
cat $output
